{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/devin/OneDrive/Desktop/vishnu/bday-sai/sailuuu-app/src/app/components/FloatingHearts.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport './FloatingHearts.css';\r\n\r\ninterface Heart {\r\n  id: number;\r\n  x: number;\r\n  y: number;\r\n  tx: number;\r\n  ty: number;\r\n}\r\n\r\ninterface FloatingHeartsProps {\r\n  trigger: boolean;\r\n  onComplete: () => void;\r\n}\r\n\r\nexport default function FloatingHearts({ trigger, onComplete }: FloatingHeartsProps) {\r\n  const [hearts, setHearts] = useState<Heart[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (trigger) {\r\n      createHearts();\r\n      // Reset trigger after animation completes\r\n      const timer = setTimeout(() => {\r\n        onComplete();\r\n      }, 2000);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [trigger, onComplete]);\r\n\r\n  const createHearts = () => {\r\n    const newHearts: Heart[] = [];\r\n    const centerX = window.innerWidth / 2;\r\n    const centerY = window.innerHeight / 2;\r\n\r\n    // Create 20 hearts with different sizes and animations\r\n    for (let i = 0; i < 20; i++) {\r\n      // Random starting position near the center\r\n      const x = centerX + (Math.random() * 200 - 100);\r\n      const y = centerY + (Math.random() * 200 - 100);\r\n\r\n      // Random ending position (floating in different directions)\r\n      const tx = (Math.random() - 0.5) * 400;\r\n      const ty = (Math.random() - 0.5) * 400;\r\n\r\n      newHearts.push({\r\n        id: Date.now() + i,\r\n        x,\r\n        y,\r\n        tx,\r\n        ty\r\n      });\r\n    }\r\n\r\n    setHearts(newHearts);\r\n\r\n    // Clear hearts after animation\r\n    setTimeout(() => {\r\n      setHearts([]);\r\n    }, 2000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"hearts-container\">\r\n      {hearts.map((heart) => {\r\n        // Random size for each heart\r\n        const size = 16 + Math.random() * 24; // Between 16px and 40px\r\n\r\n        return (\r\n          <div\r\n            key={heart.id}\r\n            className=\"floating-heart\"\r\n            style={{\r\n              left: `${heart.x}px`,\r\n              top: `${heart.y}px`,\r\n              '--tx': `${heart.tx}px`,\r\n              '--ty': `${heart.ty}px`,\r\n              fontSize: `${size}px`,\r\n              // Add a slight random rotation\r\n              transform: `rotate(${Math.random() * 60 - 30}deg)`\r\n            } as React.CSSProperties}\r\n          >\r\n            ❤️\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;;AAkBe,SAAS,eAAe,EAAE,OAAO,EAAE,UAAU,EAAuB;;IACjF,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAEhD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,SAAS;gBACX;gBACA,0CAA0C;gBAC1C,MAAM,QAAQ;sDAAW;wBACvB;oBACF;qDAAG;gBAEH;gDAAO,IAAM,aAAa;;YAC5B;QACF;mCAAG;QAAC;QAAS;KAAW;IAExB,MAAM,eAAe;QACnB,MAAM,YAAqB,EAAE;QAC7B,MAAM,UAAU,OAAO,UAAU,GAAG;QACpC,MAAM,UAAU,OAAO,WAAW,GAAG;QAErC,uDAAuD;QACvD,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,IAAK;YAC3B,2CAA2C;YAC3C,MAAM,IAAI,UAAU,CAAC,KAAK,MAAM,KAAK,MAAM,GAAG;YAC9C,MAAM,IAAI,UAAU,CAAC,KAAK,MAAM,KAAK,MAAM,GAAG;YAE9C,4DAA4D;YAC5D,MAAM,KAAK,CAAC,KAAK,MAAM,KAAK,GAAG,IAAI;YACnC,MAAM,KAAK,CAAC,KAAK,MAAM,KAAK,GAAG,IAAI;YAEnC,UAAU,IAAI,CAAC;gBACb,IAAI,KAAK,GAAG,KAAK;gBACjB;gBACA;gBACA;gBACA;YACF;QACF;QAEA,UAAU;QAEV,+BAA+B;QAC/B,WAAW;YACT,UAAU,EAAE;QACd,GAAG;IACL;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC;YACX,6BAA6B;YAC7B,MAAM,OAAO,KAAK,KAAK,MAAM,KAAK,IAAI,wBAAwB;YAE9D,qBACE,6LAAC;gBAEC,WAAU;gBACV,OAAO;oBACL,MAAM,GAAG,MAAM,CAAC,CAAC,EAAE,CAAC;oBACpB,KAAK,GAAG,MAAM,CAAC,CAAC,EAAE,CAAC;oBACnB,QAAQ,GAAG,MAAM,EAAE,CAAC,EAAE,CAAC;oBACvB,QAAQ,GAAG,MAAM,EAAE,CAAC,EAAE,CAAC;oBACvB,UAAU,GAAG,KAAK,EAAE,CAAC;oBACrB,+BAA+B;oBAC/B,WAAW,CAAC,OAAO,EAAE,KAAK,MAAM,KAAK,KAAK,GAAG,IAAI,CAAC;gBACpD;0BACD;eAXM,MAAM,EAAE;;;;;QAenB;;;;;;AAGN;GAzEwB;KAAA","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/devin/OneDrive/Desktop/vishnu/bday-sai/sailuuu-app/src/app/components/VideoMessage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { format } from 'date-fns';\r\n\r\n// Define the VideoMessage interface\r\nexport interface VideoMessage {\r\n  id: string;\r\n  videoData?: string; // Optional now, as videos are stored on the server\r\n  recipientEmail: string;\r\n  scheduledDate: string; // ISO string format\r\n  subject: string;\r\n  message: string;\r\n  created: string; // ISO string format\r\n  delivered: boolean;\r\n}\r\n\r\ninterface VideoRecorderProps {\r\n  onVideoRecorded: (videoBlob: Blob) => void;\r\n}\r\n\r\nexport function VideoRecorder({ onVideoRecorded }: VideoRecorderProps) {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [stream, setStream] = useState<MediaStream | null>(null);\r\n  const [recordedChunks, setRecordedChunks] = useState<Blob[]>([]);\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\r\n  const [isSupported, setIsSupported] = useState(true);\r\n\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\r\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Check if MediaRecorder is supported\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      if (!navigator.mediaDevices || !window.MediaRecorder) {\r\n        setIsSupported(false);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Request camera and microphone access\r\n  const startCamera = async () => {\r\n    try {\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\r\n        video: true,\r\n        audio: true\r\n      });\r\n      setStream(mediaStream);\r\n\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = mediaStream;\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error accessing camera and microphone:\", err);\r\n      alert(\"Please allow access to your camera and microphone to record a video message.\");\r\n    }\r\n  };\r\n\r\n  // Start recording\r\n  const startRecording = () => {\r\n    if (!stream) return;\r\n\r\n    try {\r\n      // Try to determine the best supported MIME type\r\n      const mimeType = getSupportedMimeType();\r\n\r\n      const options = mimeType ? { mimeType } : undefined;\r\n      const mediaRecorder = new MediaRecorder(stream, options);\r\n      mediaRecorderRef.current = mediaRecorder;\r\n\r\n      mediaRecorder.ondataavailable = (event) => {\r\n        if (event.data && event.data.size > 0) {\r\n          setRecordedChunks((prev) => [...prev, event.data]);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.start(1000); // Collect data every second\r\n      setIsRecording(true);\r\n      setIsPaused(false);\r\n      setRecordingTime(0);\r\n\r\n      // Start timer\r\n      timerRef.current = setInterval(() => {\r\n        setRecordingTime((prevTime) => prevTime + 1);\r\n      }, 1000);\r\n    } catch (err) {\r\n      console.error(\"Error starting recording:\", err);\r\n      alert(\"There was an error starting the recording. Your browser may not support this feature.\");\r\n    }\r\n  };\r\n\r\n  // Helper function to get supported MIME type\r\n  const getSupportedMimeType = () => {\r\n    const types = [\r\n      'video/webm;codecs=vp9,opus',\r\n      'video/webm;codecs=vp8,opus',\r\n      'video/webm;codecs=h264,opus',\r\n      'video/webm',\r\n      'video/mp4'\r\n    ];\r\n\r\n    for (const type of types) {\r\n      if (MediaRecorder.isTypeSupported(type)) {\r\n        return type;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  // Pause recording\r\n  const pauseRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording && !isPaused) {\r\n      mediaRecorderRef.current.pause();\r\n      setIsPaused(true);\r\n\r\n      // Pause timer\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n        timerRef.current = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Resume recording\r\n  const resumeRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording && isPaused) {\r\n      mediaRecorderRef.current.resume();\r\n      setIsPaused(false);\r\n\r\n      // Resume timer\r\n      timerRef.current = setInterval(() => {\r\n        setRecordingTime((prevTime) => prevTime + 1);\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  // Stop recording\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n      setIsPaused(false);\r\n\r\n      // Stop timer\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n        timerRef.current = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Format recording time as MM:SS\r\n  const formatTime = (seconds: number) => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = seconds % 60;\r\n    return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Clean up when component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      if (stream) {\r\n        stream.getTracks().forEach(track => track.stop());\r\n      }\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n      if (previewUrl) {\r\n        URL.revokeObjectURL(previewUrl);\r\n      }\r\n    };\r\n  }, [stream, previewUrl]);\r\n\r\n  // Create video preview when recording is complete\r\n  useEffect(() => {\r\n    if (recordedChunks.length > 0 && !isRecording) {\r\n      const videoBlob = new Blob(recordedChunks, { type: 'video/webm' });\r\n      const videoUrl = URL.createObjectURL(videoBlob);\r\n      setPreviewUrl(videoUrl);\r\n      onVideoRecorded(videoBlob);\r\n    }\r\n  }, [recordedChunks, isRecording, onVideoRecorded]);\r\n\r\n  return (\r\n    <div className=\"video-recorder-container\">\r\n      {!isSupported ? (\r\n        <div className=\"browser-not-supported\">\r\n          <div className=\"not-supported-icon\">⚠️</div>\r\n          <h4>Browser Not Supported</h4>\r\n          <p>Your browser doesn&apos;t support video recording. Please try using a modern browser like Chrome, Firefox, or Edge.</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"video-preview-container\">\r\n            {!previewUrl ? (\r\n              <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n                className=\"video-preview\"\r\n              />\r\n            ) : (\r\n              <video\r\n                src={previewUrl}\r\n                controls\r\n                className=\"video-preview\"\r\n              />\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"recording-controls\">\r\n            {!stream && !isRecording && (\r\n              <button\r\n                onClick={startCamera}\r\n                className=\"camera-btn\"\r\n              >\r\n                Enable Camera\r\n              </button>\r\n            )}\r\n\r\n            {stream && !isRecording && !previewUrl && (\r\n              <button\r\n                onClick={startRecording}\r\n                className=\"record-btn\"\r\n              >\r\n                Start Recording\r\n              </button>\r\n            )}\r\n\r\n            {isRecording && !isPaused && (\r\n              <>\r\n                <div className=\"recording-indicator\">\r\n                  <span className=\"recording-dot\"></span>\r\n                  <span className=\"recording-time\">{formatTime(recordingTime)}</span>\r\n                </div>\r\n                <div className=\"recording-buttons\">\r\n                  <button\r\n                    onClick={pauseRecording}\r\n                    className=\"pause-btn\"\r\n                  >\r\n                    Pause\r\n                  </button>\r\n                  <button\r\n                    onClick={stopRecording}\r\n                    className=\"stop-btn\"\r\n                  >\r\n                    Stop\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {isRecording && isPaused && (\r\n              <>\r\n                <div className=\"recording-indicator paused\">\r\n                  <span className=\"recording-time\">{formatTime(recordingTime)} (Paused)</span>\r\n                </div>\r\n                <div className=\"recording-buttons\">\r\n                  <button\r\n                    onClick={resumeRecording}\r\n                    className=\"resume-btn\"\r\n                  >\r\n                    Resume\r\n                  </button>\r\n                  <button\r\n                    onClick={stopRecording}\r\n                    className=\"stop-btn\"\r\n                  >\r\n                    Stop\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {previewUrl && (\r\n              <button\r\n                onClick={() => {\r\n                  setPreviewUrl(null);\r\n                  setRecordedChunks([]);\r\n                  startCamera();\r\n                }}\r\n                className=\"retake-btn\"\r\n              >\r\n                Record Again\r\n              </button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface VideoSchedulerProps {\r\n  videoBlob: Blob | null;\r\n  onSchedule: (message: Omit<VideoMessage, 'id' | 'videoData' | 'created' | 'delivered'>) => void;\r\n}\r\n\r\nexport function VideoScheduler({ videoBlob, onSchedule }: VideoSchedulerProps) {\r\n  const [recipientEmail, setRecipientEmail] = useState('');\r\n  const [scheduledDate, setScheduledDate] = useState('');\r\n  const [scheduledTime, setScheduledTime] = useState('');\r\n  const [subject, setSubject] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  // Set minimum date to today\r\n  const today = new Date();\r\n  const minDate = today.toISOString().split('T')[0];\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!videoBlob) {\r\n      alert('Please record a video first.');\r\n      return;\r\n    }\r\n\r\n    if (!recipientEmail || !scheduledDate || !scheduledTime || !subject) {\r\n      alert('Please fill in all required fields.');\r\n      return;\r\n    }\r\n\r\n    // Combine date and time into a single ISO string\r\n    const scheduledDateTime = new Date(`${scheduledDate}T${scheduledTime}`);\r\n\r\n    // Check if scheduled time is in the future\r\n    if (scheduledDateTime <= new Date()) {\r\n      alert('Please select a future date and time.');\r\n      return;\r\n    }\r\n\r\n    onSchedule({\r\n      recipientEmail,\r\n      scheduledDate: scheduledDateTime.toISOString(),\r\n      subject,\r\n      message\r\n    });\r\n\r\n    // Reset form\r\n    setRecipientEmail('');\r\n    setScheduledDate('');\r\n    setScheduledTime('');\r\n    setSubject('');\r\n    setMessage('');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"video-scheduler-form\">\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"recipient-email\">Recipient Email *</label>\r\n        <input\r\n          id=\"recipient-email\"\r\n          type=\"email\"\r\n          value={recipientEmail}\r\n          onChange={(e) => setRecipientEmail(e.target.value)}\r\n          placeholder=\"Enter recipient's email\"\r\n          required\r\n          className=\"scheduler-input\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"scheduled-date\">Date *</label>\r\n          <input\r\n            id=\"scheduled-date\"\r\n            type=\"date\"\r\n            value={scheduledDate}\r\n            onChange={(e) => setScheduledDate(e.target.value)}\r\n            min={minDate}\r\n            required\r\n            className=\"scheduler-input\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"scheduled-time\">Time *</label>\r\n          <input\r\n            id=\"scheduled-time\"\r\n            type=\"time\"\r\n            value={scheduledTime}\r\n            onChange={(e) => setScheduledTime(e.target.value)}\r\n            required\r\n            className=\"scheduler-input\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"subject\">Subject *</label>\r\n        <input\r\n          id=\"subject\"\r\n          type=\"text\"\r\n          value={subject}\r\n          onChange={(e) => setSubject(e.target.value)}\r\n          placeholder=\"Enter message subject\"\r\n          required\r\n          className=\"scheduler-input\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"message\">Message (optional)</label>\r\n        <textarea\r\n          id=\"message\"\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n          placeholder=\"Add a personal message...\"\r\n          className=\"scheduler-textarea\"\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className=\"schedule-btn\"\r\n        disabled={!videoBlob}\r\n      >\r\n        Schedule Message\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\ninterface VideoMessageListProps {\r\n  messages: VideoMessage[];\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\nexport function VideoMessageList({ messages, onDelete }: VideoMessageListProps) {\r\n  return (\r\n    <div className=\"video-message-list\">\r\n      {messages.length === 0 ? (\r\n        <p className=\"text-pink-300 text-center italic\">No scheduled video messages yet.</p>\r\n      ) : (\r\n        <div className=\"message-list\">\r\n          {messages.map((message) => {\r\n            const scheduledDate = new Date(message.scheduledDate);\r\n            const isDelivered = message.delivered;\r\n            const isPending = !isDelivered && scheduledDate > new Date();\r\n            const isOverdue = !isDelivered && scheduledDate <= new Date();\r\n\r\n            return (\r\n              <div\r\n                key={message.id}\r\n                className={`message-item ${isDelivered ? 'delivered' : ''} ${isPending ? 'pending' : ''} ${isOverdue ? 'overdue' : ''}`}\r\n              >\r\n                <div className=\"message-header\">\r\n                  <h4 className=\"message-subject\">{message.subject}</h4>\r\n                  <div className=\"message-status\">\r\n                    {isDelivered && <span className=\"status delivered\">Delivered</span>}\r\n                    {isPending && <span className=\"status pending\">Pending</span>}\r\n                    {isOverdue && <span className=\"status overdue\">Processing</span>}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"message-details\">\r\n                  <p className=\"message-recipient\">\r\n                    <span className=\"label\">To:</span> {message.recipientEmail}\r\n                  </p>\r\n                  <p className=\"message-date\">\r\n                    <span className=\"label\">Scheduled for:</span> {format(scheduledDate, 'MMM d, yyyy h:mm a')}\r\n                  </p>\r\n                  {message.message && (\r\n                    <p className=\"message-text\">\r\n                      <span className=\"label\">Message:</span> {message.message}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"message-actions\">\r\n                  {!isDelivered && (\r\n                    <button\r\n                      onClick={() => onDelete(message.id)}\r\n                      className=\"delete-message-btn\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 905, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/devin/OneDrive/Desktop/vishnu/bday-sai/sailuuu-app/src/app/components/DeliveryNotification.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { VideoMessage } from './VideoMessage';\r\n\r\ninterface DeliveryNotificationProps {\r\n  message: VideoMessage | null;\r\n  show: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function DeliveryNotification({ message, show, onClose }: DeliveryNotificationProps) {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  // Handle visibility changes\r\n  useEffect(() => {\r\n    if (show) {\r\n      setVisible(true);\r\n\r\n      // Auto-hide after 5 seconds\r\n      const timeoutId = setTimeout(() => {\r\n        setVisible(false);\r\n        onClose();\r\n      }, 5000);\r\n\r\n      return () => clearTimeout(timeoutId);\r\n    } else {\r\n      setVisible(false);\r\n    }\r\n  }, [show, onClose]);\r\n\r\n  if (!visible || !message) return null;\r\n\r\n  return (\r\n    <div className=\"delivery-notification\">\r\n      <div className=\"notification-content\">\r\n        <div className=\"notification-icon\">✉️</div>\r\n        <div className=\"notification-text\">\r\n          <h4>Message Delivered!</h4>\r\n          <p>Your video message &quot;{message.subject}&quot; has been delivered to {message.recipientEmail}.</p>\r\n        </div>\r\n        <button\r\n          className=\"notification-close\"\r\n          onClick={onClose}\r\n        >\r\n          ✕\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAWe,SAAS,qBAAqB,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAA6B;;IAChG,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,4BAA4B;IAC5B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0CAAE;YACR,IAAI,MAAM;gBACR,WAAW;gBAEX,4BAA4B;gBAC5B,MAAM,YAAY;gEAAW;wBAC3B,WAAW;wBACX;oBACF;+DAAG;gBAEH;sDAAO,IAAM,aAAa;;YAC5B,OAAO;gBACL,WAAW;YACb;QACF;yCAAG;QAAC;QAAM;KAAQ;IAElB,IAAI,CAAC,WAAW,CAAC,SAAS,OAAO;IAEjC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BAAoB;;;;;;8BACnC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAG;;;;;;sCACJ,6LAAC;;gCAAE;gCAA0B,QAAQ,OAAO;gCAAC;gCAA8B,QAAQ,cAAc;gCAAC;;;;;;;;;;;;;8BAEpG,6LAAC;oBACC,WAAU;oBACV,SAAS;8BACV;;;;;;;;;;;;;;;;;AAMT;GAvCwB;KAAA","debugId":null}},
    {"offset": {"line": 1017, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/devin/OneDrive/Desktop/vishnu/bday-sai/sailuuu-app/src/app/components/VideoMessageSection.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { VideoRecorder, VideoScheduler, VideoMessageList, VideoMessage } from './VideoMessage';\r\nimport DeliveryNotification from './DeliveryNotification';\r\nimport './VideoMessage.css';\r\n\r\nexport default function VideoMessageSection() {\r\n  const [videoBlob, setVideoBlob] = useState<Blob | null>(null);\r\n  const [videoMessages, setVideoMessages] = useState<VideoMessage[]>([]);\r\n  const [showNotification, setShowNotification] = useState(false);\r\n  const [deliveredMessage, setDeliveredMessage] = useState<VideoMessage | null>(null);\r\n\r\n  // Use refs to avoid dependency issues\r\n  const videoMessagesRef = useRef<VideoMessage[]>([]);\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Update ref when state changes\r\n  useEffect(() => {\r\n    videoMessagesRef.current = videoMessages;\r\n  }, [videoMessages]);\r\n\r\n  // Load messages from backend API\r\n  const loadMessages = useCallback(async () => {\r\n    try {\r\n      // First try to load from backend\r\n      const response = await fetch('https://backend-gold-rho-63.vercel.app/api/messages');\r\n\r\n      if (response.ok) {\r\n        const messages = await response.json();\r\n        setVideoMessages(messages);\r\n        videoMessagesRef.current = messages;\r\n\r\n        // Update localStorage with the latest messages\r\n        localStorage.setItem('videoMessages', JSON.stringify(messages));\r\n      } else {\r\n        // If backend fails, try to load from localStorage as fallback\r\n        const savedMessages = localStorage.getItem('videoMessages');\r\n        if (savedMessages) {\r\n          const parsedMessages = JSON.parse(savedMessages);\r\n          setVideoMessages(parsedMessages);\r\n          videoMessagesRef.current = parsedMessages;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading messages:', error);\r\n\r\n      // Try localStorage as fallback if API fails\r\n      try {\r\n        const savedMessages = localStorage.getItem('videoMessages');\r\n        if (savedMessages) {\r\n          const parsedMessages = JSON.parse(savedMessages);\r\n          setVideoMessages(parsedMessages);\r\n          videoMessagesRef.current = parsedMessages;\r\n        }\r\n      } catch (localError) {\r\n        console.error('Error loading messages from localStorage:', localError);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Function to check for messages that need to be delivered\r\n  const checkDelivery = useCallback(async () => {\r\n    try {\r\n      // Fetch the latest messages from the backend\r\n      const response = await fetch('https://backend-gold-rho-63.vercel.app/api/messages');\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Server responded with ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const latestMessages = await response.json();\r\n\r\n      // Check for newly delivered messages\r\n      const currentMessages = videoMessagesRef.current;\r\n      let newlyDeliveredMessage: VideoMessage | null = null;\r\n\r\n      // Find a message that was not delivered before but is delivered now\r\n      for (const message of latestMessages) {\r\n        const oldMessage = currentMessages.find(m => m.id === message.id);\r\n        if (oldMessage && !oldMessage.delivered && message.delivered) {\r\n          newlyDeliveredMessage = message;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Update state with the latest messages\r\n      setVideoMessages(latestMessages);\r\n      videoMessagesRef.current = latestMessages;\r\n      localStorage.setItem('videoMessages', JSON.stringify(latestMessages));\r\n\r\n      // Show notification if a message was newly delivered\r\n      if (newlyDeliveredMessage) {\r\n        setDeliveredMessage(newlyDeliveredMessage);\r\n        setShowNotification(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking delivery:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Set up the delivery check interval\r\n  useEffect(() => {\r\n    // Load messages first\r\n    loadMessages();\r\n\r\n    // Initial check\r\n    checkDelivery();\r\n\r\n    // Set up interval\r\n    intervalRef.current = setInterval(checkDelivery, 60000);\r\n\r\n    // Clean up\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, [loadMessages, checkDelivery]);\r\n\r\n  // Notification handling is now in the DeliveryNotification component\r\n\r\n  // Handle video recording\r\n  const handleVideoRecorded = useCallback((blob: Blob) => {\r\n    setVideoBlob(blob);\r\n  }, []);\r\n\r\n  // Handle scheduling a video message\r\n  const handleScheduleMessage = useCallback(async (messageData: Omit<VideoMessage, 'id' | 'videoData' | 'created' | 'delivered'>) => {\r\n    if (!videoBlob) return;\r\n\r\n    try {\r\n      // Create form data to send to the backend\r\n      const formData = new FormData();\r\n      formData.append('video', videoBlob, 'video.webm');\r\n      formData.append('recipientEmail', messageData.recipientEmail);\r\n      formData.append('scheduledDate', messageData.scheduledDate);\r\n      formData.append('subject', messageData.subject);\r\n      if (messageData.message) {\r\n        formData.append('message', messageData.message);\r\n      }\r\n\r\n      // Send to backend API\r\n      const response = await fetch('https://backend-gold-rho-63.vercel.app/api/schedule', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Server responded with ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const newMessage = await response.json();\r\n\r\n      // Add to local state\r\n      const currentMessages = [...videoMessagesRef.current, {\r\n        ...newMessage,\r\n        videoData: 'stored_on_server' // We don't store the video data in the browser anymore\r\n      }];\r\n\r\n      // Update localStorage first (without the video data)\r\n      localStorage.setItem('videoMessages', JSON.stringify(currentMessages));\r\n\r\n      // Then update state\r\n      setVideoMessages(currentMessages);\r\n      videoMessagesRef.current = currentMessages;\r\n\r\n      // Reset video blob\r\n      setVideoBlob(null);\r\n\r\n      // Show success message\r\n      alert('Your video message has been scheduled successfully!');\r\n    } catch (error) {\r\n      console.error('Error scheduling video message:', error);\r\n      alert('There was an error scheduling your video message. Please try again.');\r\n    }\r\n  }, [videoBlob]);\r\n\r\n  // Handle deleting a scheduled message\r\n  const handleDeleteMessage = useCallback(async (id: string) => {\r\n    try {\r\n      // Delete from backend\r\n      const response = await fetch(`https://backend-gold-rho-63.vercel.app/api/messages/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Server responded with ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      // Use the ref for current messages\r\n      const currentMessages = videoMessagesRef.current;\r\n      const updatedMessages = currentMessages.filter(message => message.id !== id);\r\n\r\n      // Update localStorage first\r\n      localStorage.setItem('videoMessages', JSON.stringify(updatedMessages));\r\n\r\n      // Then update state\r\n      setVideoMessages(updatedMessages);\r\n      videoMessagesRef.current = updatedMessages;\r\n    } catch (error) {\r\n      console.error('Error deleting message:', error);\r\n      alert('There was an error deleting the message. Please try again.');\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"video-message-section\">\r\n      <h2 className=\"video-message-title\">Scheduled Video Messages</h2>\r\n      <p className=\"video-message-subtitle\">\r\n        Record a special video message and schedule it to be delivered to your loved one at the perfect moment\r\n      </p>\r\n\r\n      <div className=\"video-message-container\">\r\n        <div className=\"video-recorder-container\">\r\n          <h3 className=\"text-xl font-semibold text-pink-400 mb-2\">Record Your Message</h3>\r\n          <VideoRecorder onVideoRecorded={handleVideoRecorded} />\r\n        </div>\r\n\r\n        <div className=\"video-scheduler-container\">\r\n          <h3 className=\"text-xl font-semibold text-pink-400 mb-2\">Schedule Delivery</h3>\r\n          <VideoScheduler videoBlob={videoBlob} onSchedule={handleScheduleMessage} />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"video-message-list-container\">\r\n        <h3 className=\"text-xl font-semibold text-pink-400 mb-2 mt-6\">Your Scheduled Messages</h3>\r\n        {/* Use a key to force re-render only when messages change */}\r\n        <VideoMessageList\r\n          key={videoMessages.length}\r\n          messages={videoMessages}\r\n          onDelete={handleDeleteMessage}\r\n        />\r\n      </div>\r\n\r\n      {/* Delivery Notification */}\r\n      <DeliveryNotification\r\n        message={deliveredMessage}\r\n        show={showNotification}\r\n        onClose={() => setShowNotification(false)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1358, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/devin/OneDrive/Desktop/vishnu/bday-sai/sailuuu-app/src/app/career/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { format, addMonths, subMonths, startOfMonth, endOfMonth, eachDayOfInterval, isSameMonth, isSameDay, isToday } from 'date-fns';\r\nimport FloatingHearts from \"../components/FloatingHearts\";\r\nimport VideoMessageSection from \"../components/VideoMessageSection\";\r\n\r\ninterface CalendarEvent {\r\n  id: string;\r\n  date: string;\r\n  title: string;\r\n  description: string;\r\n  color: string;\r\n}\r\n\r\ninterface TodoItem {\r\n  id: string;\r\n  text: string;\r\n  completed: boolean;\r\n  createdAt: string;\r\n}\r\n\r\nexport default function CareerPage() {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [events, setEvents] = useState<CalendarEvent[]>([]);\r\n  const [showEventModal, setShowEventModal] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\r\n  const [newEvent, setNewEvent] = useState<Omit<CalendarEvent, 'id'>>({\r\n    date: '',\r\n    title: '',\r\n    description: '',\r\n    color: '#ff69b4'\r\n  });\r\n\r\n  const [todos, setTodos] = useState<TodoItem[]>([]);\r\n  const [newTodo, setNewTodo] = useState('');\r\n  const [showHearts, setShowHearts] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const savedEvents = localStorage.getItem('calendarEvents');\r\n    if (savedEvents) {\r\n      setEvents(JSON.parse(savedEvents));\r\n    }\r\n\r\n    const savedTodos = localStorage.getItem('careerTodos');\r\n    if (savedTodos) {\r\n      setTodos(JSON.parse(savedTodos));\r\n    }\r\n  }, []);\r\n\r\n  const nextMonth = () => setCurrentDate(addMonths(currentDate, 1));\r\n  const prevMonth = () => setCurrentDate(subMonths(currentDate, 1));\r\n\r\n  const monthStart = startOfMonth(currentDate);\r\n  const monthEnd = endOfMonth(currentDate);\r\n  const daysInMonth = eachDayOfInterval({ start: monthStart, end: monthEnd });\r\n\r\n  const handleDateClick = (date: Date) => {\r\n    setSelectedDate(date);\r\n    setNewEvent({\r\n      ...newEvent,\r\n      date: date.toISOString(),\r\n    });\r\n    setShowEventModal(true);\r\n  };\r\n\r\n  const handleAddEvent = () => {\r\n    if (newEvent.title.trim() === '') return;\r\n\r\n    const event: CalendarEvent = {\r\n      ...newEvent,\r\n      id: Date.now().toString(),\r\n    };\r\n\r\n    const updatedEvents = [...events, event];\r\n    setEvents(updatedEvents);\r\n    localStorage.setItem('calendarEvents', JSON.stringify(updatedEvents));\r\n\r\n    const eventDate = new Date(event.date);\r\n    const formattedDate = format(eventDate, 'MMM d, yyyy');\r\n    const todoText = `${event.title} (${formattedDate})${event.description ? ': ' + event.description : ''}`;\r\n\r\n    const todo: TodoItem = {\r\n      id: `event-${event.id}`,\r\n      text: todoText,\r\n      completed: false,\r\n      createdAt: new Date().toISOString()\r\n    };\r\n\r\n    const updatedTodos = [...todos, todo];\r\n    setTodos(updatedTodos);\r\n    localStorage.setItem('careerTodos', JSON.stringify(updatedTodos));\r\n\r\n    setNewEvent({\r\n      date: '',\r\n      title: '',\r\n      description: '',\r\n      color: '#ff69b4'\r\n    });\r\n    setShowEventModal(false);\r\n  };\r\n\r\n  const handleAddTodo = () => {\r\n    if (newTodo.trim() === '') return;\r\n\r\n    const todo: TodoItem = {\r\n      id: Date.now().toString(),\r\n      text: newTodo,\r\n      completed: false,\r\n      createdAt: new Date().toISOString()\r\n    };\r\n\r\n    const updatedTodos = [...todos, todo];\r\n    setTodos(updatedTodos);\r\n    localStorage.setItem('careerTodos', JSON.stringify(updatedTodos));\r\n    setNewTodo('');\r\n  };\r\n\r\n  const toggleTodoComplete = (id: string) => {\r\n    const todo = todos.find(todo => todo.id === id);\r\n    const isBeingCompleted = todo && !todo.completed;\r\n\r\n    const updatedTodos = todos.map(todo =>\r\n      todo.id === id ? { ...todo, completed: !todo.completed } : todo\r\n    );\r\n    setTodos(updatedTodos);\r\n    localStorage.setItem('careerTodos', JSON.stringify(updatedTodos));\r\n\r\n    if (isBeingCompleted) {\r\n      setShowHearts(true);\r\n    }\r\n  };\r\n\r\n  const resetHeartsAnimation = () => {\r\n    setShowHearts(false);\r\n  };\r\n\r\n  const deleteTodo = (id: string) => {\r\n    const updatedTodos = todos.filter(todo => todo.id !== id);\r\n    setTodos(updatedTodos);\r\n    localStorage.setItem('careerTodos', JSON.stringify(updatedTodos));\r\n  };\r\n\r\n  const getEventsForDay = (date: Date) => {\r\n    return events.filter(event => {\r\n      const eventDate = new Date(event.date);\r\n      return isSameDay(eventDate, date);\r\n    });\r\n  };\r\n\r\n  const isEventCompleted = (eventId: string) => {\r\n    const todoId = `event-${eventId}`;\r\n    const todo = todos.find(todo => todo.id === todoId);\r\n    return todo ? todo.completed : false;\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center relative min-h-screen py-10\">\r\n      <div className=\"text-center mb-8\">\r\n        <h1 className=\"cosmic-title\" data-text=\"Our Career Goals\">Our Career Goals</h1>\r\n        <p className=\"cosmic-subtitle\">Planning our future together, one dream at a time</p>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col md:flex-row gap-6 w-full max-w-7xl mx-auto mb-8\">\r\n        <div className=\"bg-black p-4 rounded-lg shadow-md w-full md:w-5/12\">\r\n          <h2 className=\"text-2xl font-semibold text-pink-400 mb-3\">Our Calendar</h2>\r\n\r\n          <div className=\"calendar-container\" style={{ padding: '0.75rem', border: 'none' }}>\r\n            <div className=\"calendar-header flex justify-between items-center mb-2\">\r\n              <button\r\n                onClick={prevMonth}\r\n                className=\"calendar-nav-btn\"\r\n                style={{ width: '28px', height: '28px', fontSize: '0.9rem' }}\r\n              >\r\n                ❮\r\n              </button>\r\n              <h3 className=\"text-lg text-white font-medium\">\r\n                {format(currentDate, 'MMMM yyyy')}\r\n              </h3>\r\n              <button\r\n                onClick={nextMonth}\r\n                className=\"calendar-nav-btn\"\r\n                style={{ width: '28px', height: '28px', fontSize: '0.9rem' }}\r\n              >\r\n                ❯\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"calendar-grid\">\r\n              <div className=\"calendar-days-header\">\r\n                {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n                  <div key={day} className=\"calendar-day-name\" style={{ fontSize: '0.7rem' }}>\r\n                    {day}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"calendar-days-grid\" style={{ gap: '2px' }}>\r\n                {Array(daysInMonth[0].getDay())\r\n                  .fill(null)\r\n                  .map((_, index) => (\r\n                    <div key={`empty-${index}`} className=\"calendar-day empty\"></div>\r\n                  ))}\r\n\r\n                {daysInMonth.map(day => {\r\n                  const dayEvents = getEventsForDay(day);\r\n                  const isCurrentMonth = isSameMonth(day, currentDate);\r\n                  const isCurrentDay = isToday(day);\r\n\r\n                  return (\r\n                    <div\r\n                      key={day.toString()}\r\n                      className={`calendar-day ${isCurrentMonth ? '' : 'other-month'} ${isCurrentDay ? 'today' : ''}`}\r\n                      onClick={() => handleDateClick(day)}\r\n                      style={{\r\n                        height: '26px',\r\n                        minHeight: '26px',\r\n                        padding: '2px',\r\n                        fontSize: '0.75rem'\r\n                      }}\r\n                    >\r\n                      <div className=\"calendar-day-number\">{format(day, 'd')}</div>\r\n                      {dayEvents.length > 0 && (\r\n                        <div className=\"calendar-day-events\">\r\n                          {dayEvents.map(event => (\r\n                            <div\r\n                              key={event.id}\r\n                              className={`calendar-event ${isEventCompleted(event.id) ? 'completed-event' : ''}`}\r\n                              style={{\r\n                                backgroundColor: event.color,\r\n                                padding: '1px 2px',\r\n                                fontSize: '0.6rem',\r\n                                textDecoration: isEventCompleted(event.id) ? 'line-through' : 'none',\r\n                                opacity: isEventCompleted(event.id) ? 0.7 : 1\r\n                              }}\r\n                              title={`${event.title}${isEventCompleted(event.id) ? ' (Completed)' : ''}`}\r\n                            >\r\n                              {event.title.length > 5 ? `${event.title.substring(0, 5)}...` : event.title}\r\n                              {isEventCompleted(event.id) && '✓'}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-black p-4 rounded-lg shadow-md w-full md:w-7/12\">\r\n          <h2 className=\"text-2xl font-semibold text-pink-400 mb-3\">Our Goals</h2>\r\n\r\n          <div className=\"todo-container\">\r\n            <div className=\"todo-input-container mb-4\">\r\n              <input\r\n                type=\"text\"\r\n                value={newTodo}\r\n                onChange={(e) => setNewTodo(e.target.value)}\r\n                placeholder=\"Add a new goal or task...\"\r\n                className=\"todo-input\"\r\n                onKeyDown={(e) => e.key === 'Enter' && handleAddTodo()}\r\n              />\r\n              <button\r\n                onClick={handleAddTodo}\r\n                className=\"todo-add-btn\"\r\n              >\r\n                Add\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"todo-list\" style={{ maxHeight: '350px' }}>\r\n              {todos.length === 0 ? (\r\n                <p className=\"text-pink-300 text-center italic\">No goals added yet. Start by adding your first goal!</p>\r\n              ) : (\r\n                todos.map(todo => (\r\n                  <div\r\n                    key={todo.id}\r\n                    className={`todo-item ${todo.completed ? 'completed' : ''} ${todo.id.startsWith('event-') ? 'calendar-event-todo' : ''}`}\r\n                    style={{\r\n                      borderLeft: todo.id.startsWith('event-') ? '3px solid #da70d6' : '3px solid #ff69b4',\r\n                    }}\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={todo.completed}\r\n                        onChange={() => toggleTodoComplete(todo.id)}\r\n                        className=\"todo-checkbox\"\r\n                      />\r\n                      <span className=\"todo-text\">\r\n                        {todo.text}\r\n                      </span>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => deleteTodo(todo.id)}\r\n                      className=\"todo-delete-btn\"\r\n                    >\r\n                      ✕\r\n                    </button>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <VideoMessageSection />\r\n\r\n      <FloatingHearts trigger={showHearts} onComplete={resetHeartsAnimation} />\r\n\r\n      {showEventModal && (\r\n        <div className=\"event-modal-overlay\">\r\n          <div className=\"event-modal\">\r\n            <h3 className=\"text-xl font-semibold text-pink-400 mb-4\">\r\n              Add Event for {selectedDate && format(selectedDate, 'MMMM d, yyyy')}\r\n            </h3>\r\n\r\n            <div className=\"event-form\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"event-title\">Event Title</label>\r\n                <input\r\n                  id=\"event-title\"\r\n                  type=\"text\"\r\n                  value={newEvent.title}\r\n                  onChange={(e) => setNewEvent({ ...newEvent, title: e.target.value })}\r\n                  placeholder=\"Enter event title\"\r\n                  className=\"event-input\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"event-description\">Description (optional)</label>\r\n                <textarea\r\n                  id=\"event-description\"\r\n                  value={newEvent.description}\r\n                  onChange={(e) => setNewEvent({ ...newEvent, description: e.target.value })}\r\n                  placeholder=\"Enter event description\"\r\n                  className=\"event-textarea\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"event-color\">Event Color</label>\r\n                <div className=\"color-options\">\r\n                  {['#ff69b4', '#da70d6', '#ff1493', '#c71585', '#db7093'].map(color => (\r\n                    <div\r\n                      key={color}\r\n                      className={`color-option ${newEvent.color === color ? 'selected' : ''}`}\r\n                      style={{ backgroundColor: color }}\r\n                      onClick={() => setNewEvent({ ...newEvent, color })}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"modal-buttons\">\r\n                <button\r\n                  onClick={() => setShowEventModal(false)}\r\n                  className=\"cancel-btn\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={handleAddEvent}\r\n                  className=\"add-event-btn\"\r\n                >\r\n                  Add Event\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Link href=\"/\" className=\"text-pink-400 hover:text-pink-300 mt-8 flex items-center\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n          <path fillRule=\"evenodd\" d=\"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\r\n        </svg>\r\n        Back to Home\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}